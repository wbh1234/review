<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
 //工厂模式
//    function createPerson(name, age, job){
//        var o = new Object();
//        o.name = name;
//        o.age = age;
//        o.job = job;
//        o.sayName = function(){
//            alert(this.name);
//        };
//        return o;
//    }
//
//    var person1 = createPerson("Nicholas", 29, "Software Engineer");
//    var person2 = createPerson("Greg", 27, "Doctor");
//    alert(person1);
//    alert(person2);
//构造函数模式：构造函数本身也是函数，只不过可以用来创建对象而已
//    function Person(name,age,job){
//        this.name = name;
//        this.age = age;
//        this.job = job;
//        this.sayName = function(){
//            alert(this.name);
//        };
//    }
//    var person1 = new Person("Nicholas", 29, "Software Engineer");
//    var person2 = new Person("Greg", 27, "Doctor");
//    alert(person1);
//    alert(person2);

//要创建person的新实例，必须使用new操作符
//    1：创建一个新对象
//    2：将构造函数的作用域赋给了this对象
//    3：执行构造函数中的代码(为这个新对象添加属性)
//    4：返回新对象
//用来标识对象类型
//alert(person1.constructor == Person);
//alert(person2.constructor == Person);

    //检测对象类型instanceof
//    alert(person1 instanceof Object);
//    alert(person1 instanceof Person);
//    alert(person2 instanceof Object);
//    alert(peraon2 instanceof Person);

    //将构造函数当作函数

//    var person = new Person("Nicholas", 29, "Software Engineer");
//    person.sayName();
//
//    var person("Greg", 27, "Doctor");
//    window.sayName();
//
//    var o = new Object();
//    Person.call(o, "Kristen", 25, "Nurse");
//    o.sayName();

//构造函数的问题(每个方法都要在每个实力上重新创建一遍)
//    function Person(name, age, job){
//        this.name = name;
//        this.age = age;
//        this.job = job;
//        this.sayName = new Function("alert(this.name)");
//    }
//    function Person(name, age, job){
//        this.name = name;
//        this.age = age;
//        this.job = job;
//        this.sayName = sayName;
//    }
//function sayName(){
//        alert(this.name);
//}
//var person1 = new Person("Nicholas", 29, "Software Engineer");
//var person2 = new Person("Greg", 27,"Doctor");
//alert(person1.sayName == person2.sayName);

    //原型(prototype)模式(可以让所有对象实例共享他所包含的属性和方法)
//function Person(){
//
//}
//Person.prototype.name = "Nicholas";
//Person.prototype.age = 29;
//Person.prototype.job = "Software Engineer";
//Person.prototype.sayName = function(){
//    alert(this.name);
//};
//
//var person1 = new Person();
//person1.sayName();
//
//var person2 = new Person();
//person2.sayName();
//alert(person1.sayName == person2.sayName);
//
////理解原型对象 constructor->prototype
//
//
////alert(Person.prototype.isPrototypeOf(person1));
////alert(Person.prototype.isPrototypeOf(person2));
//alert(Object.getPrototypeOf(person1) == Person.prototype);
//alert(Object.getPrototypeOf(person1).name);


//function Person(){
//
//}
//Person.prototype.name = "Nicholas";
//Person.prototype.age = 29;
//Person.prototype.job = "Software Engineer";
//Person.prototype.sayName = function(){
//    alert(this.name);
//};
//var person1 = new Person();
//var person2 = new Person();
//
//person1.name = "Greg";
//alert(person1.name);//来自实例
//alert(person2.name);//来自对象


//function Person(){
//
//}
//Person.prototype.name = "Nicholas";
//Person.prototype.age = 29;
//Person.prototype.job = "Software Engineer";
//Person.prototype.sayName =function(){
//    alert(this.name);
//};
//
//var person1 = new Person();
//var person2 = new Person();
//
//person1.name ="Greg";
//alert(person1.name);
//alert(person2.name);
//delete person1.name;
//alert(person1.name);
//hasOwnPrototype()检测一个属性是存在实例中还是原型中
//    function Person(){
//
//    }
//    Person.prototype.name = "Nicholas";
//    Person.prototype.age = 29;
//    Person.prototype.job = "Software Engineer";
//    Person.prototype.sayName = function(){
//        alert(this.name);
//    };
//
//    var person1 = new Person();
//    var person2 = new Person();
//
//    alert(person1.hasOwnProperty("name"));
//     person1.name = "Greg";
//     alert(person1.name);
//     alert(person1.hasOwnProperty("name"));
//
//     alert(person2.name);
//     alert(person2.hasOwnProperty("name"));
//
//     delete person1.name;
//     alert(person1.name);
//     alert(person1.hasOwnProperty("name"));


//原型与in操作符  单独使用 for……in循环使用
//    function Person(){
//
//    }
//
//    Person.prototype.name = "Nicholas";
//    Person.prototype.age = 29;
//    Person.prototype.job = "Software Engineer";
//    Person.prototype.sayName = function(){
//        alert(this.name);
//    };
//    var person1 = new Person();
//    var person2 = new Person();
//
//    alert(person1.hasOwnProperty("name"));
//    alert("name" in person1);
//
//    person1.name = "Grag";
//    alert(person1.name);
//    alert(person1.hasOwnProperty("name"));
//    alert("name" in person1);
//
//    alert(person2.name);
//    alert(person2.hasOwnProperty("name"));
//    alert("name" in person2);
//
//    delete person1.name;
//    alert(person1.name);
//    alert(person1.hasOwnProperty("name"));
//    alert("name" in person2);
//function hasPrototypeProperty(object, name){
//    return !object.hasOwnProperty(name) &&(name in object);
//}
//
//
//    function Person(){
//
//    }
//    Person.prototype.name = "Nicholas";
//    Person.prototype.age = 29;
//    Person.prototype.job = "Software Engineer";
//    Person.prototype.sayName = function(){
//        alert(this.name);
//    };
//
//    var person = new Person();
//    alert(hasPrototypeProperty(person,"name"));
//    person.name = "Greg";
//    alert(hasPrototypeProperty(person,"name"));

//var o = {
//    toString:function(){
//        return "My Object";
//    }
//};
//
//for(var prop in o){
//    if(prop == "toString"){
//        alert("Found toString");
//    }
//}

//    function Person(){
//
//    }
//    Person.prototype = {
//        name:"Nicholas",
//        age:29,
//        job:"Software Engineer",
//        sayName:function(){
//            alert(this.name);
//        }
//    };
//    var keys = Object.keys(Person.prototype);
//    alert(keys);

//    var p1 = new Person();
//    p1.name = "Rob";
//    p1.age = 31;
//    var p1keys = Object.keys(p1);
//    alert(p1keys);
//
//
//    var keys = Object.getOwnPropertyNames(Person.prototype);
//    alert(keys);
//
//var friend = new Person();
//alert(friend instanceof Object);
//alert(friend instanceof Person);
//alert(friend.constructor == Person);
//alert(friend.constructor == Object);

//    function Person(){
//
//    }
//    Person.prototype = {
////        constructor:Person,
//        name:"Nicholas",
//        job:"Software Engineer",
//        sayName:function(){
//            alert(this.name);
//        }
//    };
//Object.defineProperty(Person.prototype,"constructor",{
//    enumerable:false,
//    value:Person
//});

    //原型的动态性
//    var friend = new Person();
//    Person.prototype.sayHi = function(){
//        alert("hi");
//    };
//    friend.sayHi();

//function Person(){
//}
//var friend = new Person();
//Person.prototype = {
//    constructor:Person,
//    name:"Nicholas",
//    age:29,
//    job:"Software Engineer",
//    sayName:function(){
//        alert(this.name);
//    }
//};
//friend.sayName();
//原生对象的原型
//    alert(typeof Array.prototype.sort);
//    alert(typeof String.prototype.substring);

//String.prototype.startsWith = function (text){
//    return this.indexOf(text)==0;
//};
//var msg = "Hello world";
//alert(msg.startsWith("Hello"));
//原型对象的问题
//    function Person(){
//
//    }
//    Person.prototype = {
//        constructor:Person,
//        name:"Nicholas",
//        age:29,
//        job:"Software Engineer",
//        friends:["Shelby","Court"],
//        sayName:function(){
//            alert(this.name);
//        }
//    };
//    var person1 = new Person();
//    var person2 = new Person();
//
//    person1.friends.push("Van");
//
//    alert(person1.friends);
//    alert(person2.friends);
//    alert(person1.friends === person2.friends);
    //组合使用构造函数模式和原型的模式
//    function Person(name, age, job){
//        this.name =name;
//        this.age = age;
//        this.job = job;
//        this.friends = ["Shelby","Court"];
//    }
//    Person.prototype = {
//        constructor:Person,
//        sayName:function(){
//            alert(this.name);
//        }
//    };
//    var person1 = new Person("Nicholas",29,"Software Engineer");
//    var person2 = new Person("Greg", 27, "Doctor");
//
//    person1.friends.push("Van");
//    alert(person1.friends);
//    alert(person2.friends);
//    alert(person1.friends ===person2.friends);
//    alert(person1.sayName===person2.sayName);
//动态原型模式

//function Person(name, age, job){
//    this.name = name;
//    this.age = age;
//    this.job = job;
//    if(typeof this.sayName != "function"){
//        Person.prototype.sayName = function(){
//            alert(this.name);
//        };
//    }
//}
//var friend = new Person("Nicholas", 29, "Software Engineer");
//friend.sayName();
//寄生构造函数模式
//    function Person(name, age, job){
//        var o = new Object();
//        o.name = name;
//        o.age = age;
//        o.job = job;
//        o.sayName = function(){
//            alert(this.name);
//        };
//        return o;
//    }
//
//    var friend = new Person("Nicholas", 29, "Software Engineer");
//    friend.sayName();

//    function SpecialArray(){
//        var values = new Array();
//
//        values.push.apply(values, arguments);
//        values.toPipedString = function(){
//            return this.join("|");
//        };
//        return values;
//    }
//    var colors = new SpecialArray("red", "blue", "green");
//    alert(colors.toPipedString());

    //稳妥构造函数模式
    function Person(name, age,job){
        var o = new Object();
        o.sayName = function(){
            alert(name);
        };
        return o;
    }

    var friend = Person("Nicholas", 29, "Software Engineer");
    friend.sayName();































</script>
</body>
</html>